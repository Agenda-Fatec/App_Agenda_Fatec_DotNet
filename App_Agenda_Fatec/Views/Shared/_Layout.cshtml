<!DOCTYPE html>
<html lang="pt-br">

    <head>

        <meta charset="utf-8"/>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <title> @ViewData["Title"] | Agenda Fatec </title>

        <link rel="stylesheet" type="text/css" href="~/css/Global.css"/>

        @await RenderSectionAsync("CSS", required: false)

    </head>

    <body>

        <div id="blocker">

            <div id="menu">

                <figure> <img src="~/img/Logo.png" alt="Logo">  </figure>

                <button id="close-menu"> Fechar Menu </button>

                <nav>

                    <a asp-controller="Home" asp-action="Index"> Início </a>
                    <a href="#"> Salas </a>
                    <a href="#"> Equipe </a>
                    <a href="#"> Ajuda </a>

                    <a asp-controller="Block" asp-action="Index"> Blocos </a>

                    @{

                        if (User?.Identity?.IsAuthenticated ?? false)
                        {

                            string[][] modules = [["Blocos", "Block"], ["Cargos", "Role"], ["Equipamentos", "Equipment"], ["Salas", "Room"]];

                            <details>

                                <summary> Administração </summary>

                                <details class="module">

                                    <summary> Agendamentos </summary>

                                    <a asp-controller="Scheduling" asp-action="Index"> Requisições </a>

                                </details>

                                @foreach (string[] module in modules)
                                {

                                    <details class="module">

                                        <summary> @module[0] </summary>

                                        <a asp-controller="@module[1]" asp-action="Create"> Cadastro </a>

                                        <a asp-controller="@module[1]" asp-action="Index"> Listagem </a>

                                    </details>

                                }

                                <details class="module">

                                    <summary> Usuários </summary>

                                    <a asp-controller="User" asp-action="Index"> Listagem </a>

                                </details>

                            </details>

                        }

                    }

                </nav>

            </div>

        </div>

        <div id="container">

            <header>

                <nav>

                    <button id="open-menu"> <i class="bx bx-menu">  </i> </button>

                    <div id="access">

                        @{

                            if (User?.Identity?.IsAuthenticated ?? false)
                            {

                                <a id="logout" href="#"> Sair </a>

                            }

                            else
                            {

                                <a href="#"> Cadastro </a>

                                <a href="#"> Login </a>

                            }

                        }

                    </div>

                </nav>

            </header>

            <main role="main" class="pb-3">

                @RenderBody()

            </main>

        </div>

        <script src="~/lib/jquery/dist/jquery.min.js">  </script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js">  </script>
        <script src="~/js/site.js" asp-append-version="true">  </script>

        <script type="text/javascript" src="~/js/Global.js">  </script>

        @await RenderSectionAsync("Scripts", required: false)

    </body>

</html>